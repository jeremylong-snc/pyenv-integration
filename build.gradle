plugins {
    id 'org.jetbrains.intellij' version '1.16.1'
    id 'org.jetbrains.kotlin.jvm' version '1.9.21'
    id 'java-library'
}

group 'com.maxifom'
version '0.0.3'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.jetbrains.kotlin:kotlin-stdlib'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version = '2023.1'
    type = "IU"
}
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}

compileKotlin {
    kotlinOptions.jvmTarget = "17"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "17"
}

patchPluginXml {
    changeNotes = "Added uninstall action, changed install version list to full list of version instead of splitted list of versions by vendor."
    sinceBuild = "231"
//    untilBuild()
}
publishPlugin {
    token = System.getenv("PUBLISH_TOKEN")
}